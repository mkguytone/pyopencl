<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>13.9. 検証環境</title><link rel="stylesheet" type="text/css" href="index.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><link rel="home" href="index.html" title="Python OpenCL入門" /><link rel="up" href="ch13.html" title="Chapter 13. OpenCLの概要" /><link rel="prev" href="ch13s08.html" title="13.8. OpenCL SDK" /><link rel="next" href="ch13s10.html" title="13.10. Intel HD Graphics" /><meta xmlns="" name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0" /><script xmlns="" type="text/javascript" src="prettify/prettify.js"></script><link xmlns="" rel="stylesheet" type="text/css" href="prettify/skins/sons-of-obsidian.css" /><script xmlns="">
    window.addEventListener("load", function() {
      PR.prettyPrint();
	  });	
	</script><script xmlns="" type="text/javascript" src="script/head.js"></script></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ch13s08.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch13s10.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_検証環境_2"></a>13.9. 検証環境</h2></div></div></div><p>本書での検証はMac Miniで行うものとします。仕様については下記の表とおりです。</p><p>AVXの拡張命令をサポートしており、Intel HD Graphics 4000が検証に使うGPUプロセッサです。</p><p>Intel HD Graphics 4000には１GBのメモリがあると記載されていますが、ホストのメインメモリと共有しているため、ホストからデバイスのメモリーにコピーする必要はありません。ただし、AMDやNVIDIAが提供するボードの専用メモリと比べると性能は大幅に下がります。</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_mac_mini_late_2012の仕様"></a>13.9.1. Mac Mini Late 2012の仕様</h3></div></div></div><div class="table"><a id="macmini"></a><p class="title"><strong>Table 13.4. 表：Mac Mini Late 2012のハード仕様</strong></p><div class="table-contents"><table class="table" summary="表：Mac Mini Late 2012のハード仕様" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">詳細</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>プロセッサ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">2.5 GHz Intel® Core i5 (i5-3210M)</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>グラフィックス</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">Intel HD Graphics 4000 1024 MB</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>メモリ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">4 GB 1600 MHz DDR3</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>OS</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">OS X 10.9.5</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>スマートキャッシュ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">3 MB</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>DMI</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">5GT/S</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>命令セット</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">64-bit</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>拡張命令</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">AVX</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>コア</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">2</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>スレッド</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">4</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Turbo</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">3.1 GHz</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>最大メモリーチャンネル数</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">2</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>最大メモリー帯域</strong></span></p></td><td style="" align="center" valign="top"><p><code class="literal">25.6 GB/s</code></p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="idm2415"></a><p class="title"><strong>Table 13.5. 表：Intel® HD Graphics 4000</strong></p><div class="table-contents"><table class="table" summary="表：Intel® HD Graphics 4000" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">詳細</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>ベース周波数</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><code class="literal">650 MHz</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>最大Dynamic周波数</strong></span></p></td><td style="" align="center" valign="top"><p><code class="literal">1.1 GHz</code></p></td></tr></tbody></table></div></div><br class="table-break" /><p>Mac Miniの仕様では、ホストのメインメモリーが4GBとされていますが、下表はOpenCL実装ライブラリに検知させた詳細なハードウェアのスペックとなります。</p><p>各プロセッサに附属するローカルメモリーは、CPUでは32KB、GPUには64KBの領域が使用可能です。（ローカルメモリーは以降の項目で説明します。）</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_cpu_gpuデバイス"></a>13.9.2. CPU/GPUデバイス</h3></div></div></div><p>読者のお持ちの環境が最近の端末でIntelかAMDのCPUを搭載していれば、CPUはGPU内蔵型の可能性が濃厚です。</p><p>本書の検証環境は「表：プラットフォーム内のOpenCLデバイス情報」（<a class="xref" href="ch13s09.html#OpenCLDeviceInfo" title="Table 13.6. 表：プラットフォーム内のOpenCLデバイス情報">Table 13.6, “表：プラットフォーム内のOpenCLデバイス情報”</a>）で確認できます。検証環境として使用しているMac MiniにはCPUとGPUが同じボードに併存します。これはGPUがCPUチップセットの内蔵型グラフィックボードだからです。</p><p>CPUとGPUデバイスが混在するアーキテクチャは、ヘテロジニアス・マルチコアを理解する上で大きな利点と考えます。</p><p>本書ではNVIDIAやAMDの専用GPUボードは扱わないものの、OpenCLで考慮すべき点はIntelのGPUと変わりません。</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_openclデバイス情報"></a>13.9.3. OpenCLデバイス情報</h3></div></div></div><p>OpenCLはサポートしているデバイスの情報を取得できる機能があります。この機能を使い情報を取得した結果を、下記の表にまとめました。</p><div class="table"><a id="OpenCLDeviceInfo"></a><p class="title"><strong>Table 13.6. 表：プラットフォーム内のOpenCLデバイス情報</strong></p><div class="table-contents"><table class="table" summary="表：プラットフォーム内のOpenCLデバイス情報" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Device 0</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>デバイス種類</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>CPU</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>グローバルメモリサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>4294967296</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>ローカルメモリサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>32768</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大CU数</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>4</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大ワークグループサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>1024</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大次元数</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>3</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Device 1</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>デバイス種類</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>GPU</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>グローバルメモリサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>1073741824</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>ローカルメモリサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>65536</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大CU数</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>16</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大ワークグループサイズ</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p>512</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大次元数</strong></span></p></td><td style="" align="center" valign="top"><p>3</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_グローバルメモリサイズ"></a>グローバルメモリサイズ</h4></div></div></div><p>グローバルメモリサイズは、グローバルメモリ領域にあるメモリの最大値です。この場合は普段アプリケーションが使うメインメモリを指します。Core i5 CPUでは4GB、HD Graphic 4000では、1GBのメモリ領域が割り当てられます。</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_ローカルメモリサイズ"></a>ローカルメモリサイズ</h4></div></div></div><p>ローカルメモリサイズはチップセット内に配置されたメモリを指します。32KB〜64KBのメモリ領域が割り当てられるのが一般的です。Core i5が32KB、HD Graphic 4000が64KBとなっています。</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_最大cu数"></a>最大CU数</h4></div></div></div><p>後述しますが、Compute UnitというCPU/GPU内に「物理的」に存在する処理単位の最大数を示します。</p><p>CPUの場合はこの値はCPUのコア数を示します。つまりCU数は並列処理可能な最大個数を原則（SIMD/SPMDは除く）として表します。Core i5では4個となります。</p><p>HD Graphic 4000では16個が最大値となります。つまり16個の並列処理ユニットが物理的に存在することになります。Compute Unitについてはデバイスの仕様を解説する際に再度説明します。</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_最大ワークグループ数"></a>最大ワークグループ数</h4></div></div></div><p>前項と同じく後述しますが、ワークグループは複数の処理を集合した「論理的」な処理グループです。アプリケーションを設計する際に開発者が指定する必要があります。論理的に定義したワークグループは、OpenCLによってCompute Unitにマップされます。</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_最大次元数"></a>最大次元数</h4></div></div></div><p>OpenCLにおける「次元」は、画像処理の「次元」と同様な意味を持ちます。例えば「1024 x 768」個の画素を持つ２次元画像がある場合は、次元２（x軸、y軸）を使用していることになります。</p><p>3次元画像では次元３（x軸、y軸、z軸）の座標で定義される情報を処理するために使います。OpenCLでは次元数3までのデータを処理できます。</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_intel第３_４世代cpu内蔵グラフィックボード"></a>13.9.4. Intel第３・４世代CPU内蔵グラフィックボード</h3></div></div></div><p>検証のために使うGPUでバイスはHD Graphic 4000であり第３世代のIntelグラフィックボードです。これと第４世代の内蔵ボードを比較したのが下図です。</p><div class="table"><a id="intelHD"></a><p class="title"><strong>Table 13.7. 表：Intel第３世代・第４世代CPU内蔵グラフィックボード</strong></p><div class="table-contents"><table class="table" summary="表：Intel第３世代・第４世代CPU内蔵グラフィックボード" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /><col class="col_4" /><col class="col_5" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Intel HD Graphic 4000</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Intel HD Graphics</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>4200/4400/4600</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>5000/5100/5200</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>API</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong></strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Execution Units</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>16 EU</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>10 EU</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>20 EU</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>40EU</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>浮動小数演算命令数/clock</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>256</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>160</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>320</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>640</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>スレッド/EU（総数）</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>8/EU(128)</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>7/EU(70)</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>7/EU(140)</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>7/EU(280)</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Texture Sampler</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>2</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>1</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>2</strong></span></p></td><td style="" align="center" valign="top"><p><span class="strong"><strong>4</strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_intel_gen8_gen9アーキテクチャ"></a>13.9.5. Intel Gen8/Gen9アーキテクチャ</h3></div></div></div><p>筆者はIntel HD Graphicsの広報をする動機も目的もありませんが、Intelの内蔵ボードでの処理が本書の主題の一つである以上、最新のアーキテクチャを読者に紹介することは必要と考えます。</p><p>Intel Gen8/Gen9アーキテクチャは最新の内蔵グラフィックボードの一つです。このうち最上位機種では、336ハードウェアスレッドをサポートします。</p><p>またSLM（共有ローカルメモリ）がサブスライスにつき64KBのため、Intel Iris Pro Graphics 6200では、384KBを上限としたメモリ領域を使うことが可能です。</p><div class="table"><a id="idm2675"></a><p class="title"><strong>Table 13.8. 表：Gen8アーキテクチャー</strong></p><div class="table-contents"><table class="table" summary="表：Gen8アーキテクチャー" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Intel HD Graphics 5300</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>Intel Iris Pro graphics 6200</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>EU</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>24 EUs</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>48 EUs (8 EU x 3 subslices x 2 slices)</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>ハードウェアスレッド（HW）</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>168 HW Threads</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>336 HW Threads</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>並列カーネルインスタンス</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>5,376</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>10,752</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>L3 cache</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>384-576KB</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>768-1024 KB</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>最大SLM</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>192 KB</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>384 KB</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>LLC</strong></span></p></td><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>4-8 MB</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>4-8 MB</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>eDRAM</strong></span></p></td><td style="border-right: 1px solid #527bbd; " align="center" valign="top"><p><span class="strong"><strong>n/a</strong></span></p></td><td style="" align="center" valign="top"><p><span class="strong"><strong>128 MB</strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>Intel Gen9アーキテクチャでもGen8と同様に、サブスライスに対して64KBの共有ローカルメモリ領域が確保されています。</p><div class="table"><a id="idm2763"></a><p class="title"><strong>Table 13.9. 表：Gen9アーキテクチャー</strong></p><div class="table-contents"><table class="table" summary="表：Gen9アーキテクチャー" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong></strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>Intel HD Graphics 530</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>EU</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>24 EU（8 EU x 3 subslices x 1 slice）</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>ハードウェアスレッド(HW)</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>168 HWスレッド</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>並列カーネルインスタンス</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>5376</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>L3 cache</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>512 KB</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>最大SLM</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>192 KB</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>LLC</strong></span></p></td><td style="" align="left" valign="top"><p><span class="strong"><strong>2-8 MB</strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>Gen9はSoC（System on Chip）という半導体チップに必要なコンポーネント、サブコンポーネントを配置する集積回路ですが、コマンドストリーマー、ディスパッチャー、サブスライス/EUという処理の流れでアプリケーションから入力されたデータを制御します。</p><div class="table"><a id="idm2819"></a><p class="title"><strong>Table 13.10. Gen9 SoCのデータフロー</strong></p><div class="table-contents"><table class="table" summary="Gen9 SoCのデータフロー" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="emphasis"><em>1</em></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>コマンドストリーマー</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="emphasis"><em>2</em></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>グローバルスレッドディスパッチャー</strong></span></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="emphasis"><em>3</em></span></p></td><td style="" align="left" valign="top"><p><span class="strong"><strong>サブスライス/EU</strong></span></p></td></tr></tbody></table></div></div><br class="table-break" /><p>このデータフローはGen9に固有のものではなく他のボードもこれに準拠します。</p><p>各サブスライスにはL3データキャッシュが配置される複合体とのバスが存在し、その上に共有ローカルメモリ（SLM）もあります。バスの帯域は64バイトです。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s08.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch13.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch13s10.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div><wrapper xmlns=""><p>Copyright 2018-2019, by Masaki Komatsu</p>


</wrapper></body></html>